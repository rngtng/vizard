#!/usr/bin/env bash

hook=${1}
case "${hook}" in
   'before_deploy')
      echo "before_deploy"
      # do before_deploy stuff
      ;;
   'after_deploy')
      echo 'after_deploy'
      # do after_deploy stuff
      # e.g. create a tag:
      # git tag "deploy/${APP}/$(date +"%Y%m%d-%H%M")/${ISSUER}"
      # git push --tags
      ;;
   'before_scale')
      echo 'before_scale'
      # do before_scale stuff
      ;;
   'after_scale')
      echo 'after_scale'
      # do after_scale stuff
      ;;
   'before_restart')
      echo 'before_restart'
      # do before_restart stuff
      ;;
   'after_restart')
      echo 'after_restart'
      # do after_restart stuff
      ;;
   'before_envset')
      echo 'before_envset'
      # do before_envset stuff
      ;;
   'after_envset')
      echo 'after_envset'
      # do after_envset stuff
      ;;
   'before_envdel')
      echo 'before_envdel'
      # do before_envdel stuff
      ;;
   'after_envdel')
      echo 'after_envdel'
      # do after_envdel stuff
      ;;
esac

echo "ISSUER: $ISSUER"
echo "APP: $APP"
echo "REV: $REV"
echo "SCALE_FACTORS: $SCALE_FACTORS"
echo "PREV_REV: $PREV_REV"
echo "GIT_REMOTE_URL: $GIT_REMOTE_URL"
echo "FORCED_DEPLOY: $FORCED_DEPLOY"
echo "KEY: $KEY"
echo "VALUE: $VALUE"
